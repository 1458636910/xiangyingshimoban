"use strict";function _defineProperty(e,t,n)
{return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
var _extends=Object.assign||function(e)
{for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0==("undefined"==typeof global_app?"undefined":_typeof(global_app))&&(global_app=""),void 0==("undefined"==typeof global_domain?"undefined":_typeof(global_domain))&&(global_domain=""),void 0==("undefined"==typeof module_name?"undefined":_typeof(module_name))&&(module_name=""),function(e,t,n,a){t.yunu={post:function(t){yunu.loading(),e.post(t.url,t.field||{},function(e){1==e.state||!0===e?t.success(e):yunu.msg_t(e.info||"失败","error")}).always(function(){yunu.loading("close")})},letter:function(e){if("function"==typeof arguments[0]){e();var t="number"!=typeof arguments[1]?300:arguments[1],n=null,a=(new Date).getTime();return function(){var o=(new Date).getTime();o-a<t?(clearTimeout(n),n=setTimeout(function(){e()},t)):(clearTimeout(n),a=o,e())}}},throttle:function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var a=arguments[2];if("function"==typeof n){switch(n(),n="function"==typeof _?_.throttle(n,300):this.letter(n,300),a){case"scroll":e(t).scroll(n);break;default:e(t).resize(n)}return this}},swal:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};swal(e.extend({title:"提示",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#00a2ea",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!1,showLoaderOnConfirm:!0},t),n)}),msg_t:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a={skin:"layui-layer-hui msg_success",offset:["20px"],anim:1,time:1e3};"object"===(void 0===t?"undefined":_typeof(t))?(0==t.state&&(a.skin="layui-layer-hui msg_error",a.time=3e3),t=t.mess):"error"===n?(a.skin="layui-layer-hui msg_error",a.time=3e3):"function"==typeof n?a.end=n:e.extend(a,n),layui.use("layer",function(){layui.layer.msg(t,a)})},loading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};layui.use("layer",function(){if("close"===t)layer.closeAll("loading");else{var a=layui.layer,o={skin:"msg_loading",shade:[.1,"#000"]};e.extend(o,n),a.load(t,o)}})},l_nav:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=e("#l_nav>ul>li");if(o.length){var i=o.children("a"),l=i.next("ul"),r=function(e){var t=e.next("ul"),n=e.hasClass("active");i.removeClass("active"),l.slideUp(),n||(e.addClass("active"),localStorage.setItem("l_nav"+a,e.parent().index()),t.find("a").length&&t.stop(!0).slideDown("fast"))};if(i.each(function(t,n){var a=e(this);a.next("ul").length||a.addClass("noarrow")}).on("click",function(){r(e(this))}),localStorage){var s=localStorage.getItem("l_nav"+a);if(s){var u=o.eq(s).children("a");r(u),u.next("ul").stop(!0,!0).show(),l.find("a").each(function(t,n){-1!=location.href.indexOf(n.href)&&e(n).addClass("active")})}}e("#crumbs").html(e("#crumbs").html()+'<a href="'+t.location.href+'">'+n.title+"</a>")}return this},msg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={text:t.text||"操作成功",href:t.href||"javascript:;",callback:t.callback||function(){}};if(!e("#msg").length){e("body").append('<div class="popup" id="msg"><div class="mask"></div><div class="dialog msg"><div class="msgicon"></div><p class="c_0">'+n.text+'</p><a class="btn1" href="'+n.href+'">确认</a></div></div>');var a=e("#msg");a.fadeIn(),a.find(".btn1").on("click",function(){a.fadeOut(function(){a.remove()}),"function"==typeof n.callback&&n.callback()})}return this},validation:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!0,o=t.find('input[type="submit"]'),i=[];return o.prop("disabled",!0).addClass("disabled"),setTimeout(function(){o.prop("disabled",!1).removeClass("disabled")},3e3),e.each(n,function(e,n){var o=t.find('[name="'+n.name+'"]'),l=void 0,r=void 0,s=void 0;o.length&&(l="function"==typeof n.rule?function(){return n.rule()}:function(){return""==n.rule?""!=o.val():o.val().match(n.rule)},"object"==_typeof(n.msg)?(r=function(){return n.msg.hide()},s=function(){return n.msg.fadeIn()}):(r=function(){return o.tooltip("hide")},s=function(){o.tooltip("destroy").tooltip({title:n.msg,placement:n.placement||"right",trigger:"manual"}).tooltip("show")}),"function"==typeof o.data(n.name)&&o.data(n.name)(),o.off("input").on("input",function(){l()?r():s()}),l()||(i.push(o),a=!1,s()),o.data(n.name,r))}),a||i[0].focus(),a},file_input:function(){return e(".file_btn").length&&(e(".file_btn").each(function(){var t=e(this),n=t.find('[type="file"]'),a=t.next(".file_font");n.on("change",function(){a.html(e(this).val()||"未选择任何文件")})}),e("form").on("reset",function(t){setTimeout(function(){e('input[type="file"]').change()})})),this},sort:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".sort",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#table",o=void 0;return e(a).on("focus",n,function(){o=e(this).val()}).on("blur",n,function(){var n=e(this);if(n.val()===o)return!1;var a=n.closest("tr");n.val().match(/^(-|\+)?\d+$/)?(swal({title:"请稍后",text:"这可能需要一点时间",imageUrl:global_app+"/Public/Public/img/loading.gif",showConfirmButton:!1}),e.post(t,{id:a.attr("data-id"),sort:n.val()},function(e){!1!==e?location.reload():swal("失败","排序失败","error")}).error(function(){swal("错误","发生错误","error")})):swal("错误","排序必须为数字","error")}),this},switchs:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".switch",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#table",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e(a).on("change",n,function(){var n=e(this),a=n.closest("tr"),i=n.is(":checked")?1:0;0==n.val()&&(i=n.is(":checked")?0:1),o&&yunu.loading(),e.post(t||n.attr("data-url"),_defineProperty({id:a.attr("data-id")},n.prop("name"),i),function(e){!1===e&&swal("失败","操作失败","error")}).error(function(){swal("错误","发生错误","error")}).always(function(){o&&yunu.loading("close")})}),this},uploads:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".upload_img",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};layui?layui.use(["layer","upload"],function(){var o=layui.layer;e(t).each(function(t,i){var l=e(this),r=l.find('input[type="text"]'),s=l.find('input[type="button"]'),u=l.find("img"),c="qiniu_upload_container"+n+t,d="qiniu_upload_btn"+n+t;if(l.attr("id",c),s.attr("id",d),""==u.prop("src")&&u.hide(),!s.attr("data-path"))return o.alert("未定义上传路径"),!0;Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:d,Bucket_Name:"static-yunucms",uptoken_url:global_app+"/uptoken.php",unique_names:!1,domain:"http://static.yunucms.com/",get_new_uptoken:!1,container:c,max_file_size:"1024mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:c,chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){plupload.each(t,function(e){o.load()})},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(t,n,i){var l=t.getOption("domain")+e.parseJSON(i.response).key+"?attname=";r.val(l),u.prop("src",l).css("display","block"),o.closeAll("loading"),a(l)},Error:function(e,t,n,a){console.log(e),console.log(t),console.log(n),o.closeAll("loading")},UploadComplete:function(){o.closeAll("loading")},Key:function(t,n){var a=t.settings.browse_button,o=e(a).attr("data-path");return(o=o||"")+n.id}}})})}):console.log("上传依赖layui")},uploads_local:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".upload_img",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"images";layui&&e(t).each(function(){var t=e(this),a=t.find('input[type="text"]'),o=t.find('input[type="button"]'),i=t.find("img");""==i.prop("src")&&i.hide(),layui.use(["layer","upload"],function(){var e=layui.layer;layui.upload.render({elem:o[0],url:global_app+"/Yunucms/Upload/index",accept:n,before:function(t){e.load()},done:function(t){t.src?(a.val(t.src),i.prop("src",t.src).css("display","block")):e.msg(t.info),e.closeAll("loading")},error:function(){console.log("layui_upload_error"),e.closeAll("loading")}})})})},progress:function(e){var t=e.find(".layui-btn-normal"),n=e.find(".layui-btn-success"),a=e.find(".layui-btn-danger"),o=e.find(".layui-progress"),i=t.add(n).add(a).add(o),l=null,r=function(){clearTimeout(l),l=setTimeout(function(){e.fadeOut()},4e3)},s=function(){clearTimeout(l),e.show()};return i.hide(),function(e){s(),i.stop(!0).fadeOut(),"show"==e&&t.add(o).fadeIn(),"success"==e&&(n.fadeIn(),r()),"error"==e&&a.fadeIn()}},qiniu_upload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t.box);if(!n.length){var a=t.box.replace(/#/g,"");e("#"+t.container).append(e('<div class="progress" id="'+a+'">\n                    <button class="layui-btn layui-btn-normal layui-btn-mini">上传中</button>\n                    <button class="layui-btn layui-btn-success layui-btn-mini">上传成功</button>\n                    <button class="layui-btn layui-btn-danger layui-btn-mini">上传失败</button>\n                    <div class="layui-progress layui-progress-big mt10" lay-showPercent="yes" lay-filter="'+t.progress+'">\n                        <div class="layui-progress-bar layui-bg-blue" lay-percent="0%"></div>\n                    </div>\n                </div>')),n=e(t.box)}var o=yunu.progress(n),i=t.browse_button?t.browse_button:"upload_file_btn";return e("#"+i).attr("data-path")?(t=e.extend({runtimes:"html5,flash,html4",browse_button:"upload_file_btn",Bucket_Name:"static-yunucms",uptoken_url:"/uptoken.php",unique_names:!1,domain:"http://static.yunucms.com/",get_new_uptoken:!1,container:"upload_file",max_file_size:"1024mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:"upload_file",chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){plupload.each(t,function(e){o("show")})},BeforeUpload:function(e,t){},UploadProgress:function(e,n){n.percent<100&&t.element.progress(t.progress,n.percent+"%")},FileUploaded:function(n,a,i){t.element.progress(t.progress,"100%");var l=n.getOption("domain")+e.parseJSON(i.response).key+"?attname=";e(t.input).val(l),e(t.text).html(l),o("success")},Error:function(e,n,a,i){console.log(e),console.log(n),console.log(a),"undefined"!=typeof swal?swal(n.message,a,"error"):t.layer&&t.layer.open({title:n.message,content:a}),o("error")},UploadComplete:function(){},Key:function(t,n){var a=t.settings.browse_button,o=e(a).attr("data-path");return(o=o||"")+n.id}}},t),Qiniu.uploader(t)):(layer.alert("未定义上传路径"),!0)},qiniu_upload_asyn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};layui.use(["layer","element"],function(){var a=layui.layer,o=layui.element;e.each(t,function(t,i){var l=e(i),r=l.closest(".upload_input"),s=r.find(".upload_btn"),u="filter"+t,c=e('<div class="progress">\n                        <button class="layui-btn layui-btn-normal layui-btn-mini">上传中</button>\n                        <button class="layui-btn layui-btn-success layui-btn-mini">上传成功</button>\n                        <button class="layui-btn layui-btn-danger layui-btn-mini">上传失败</button>\n                        <div class="layui-progress layui-progress-big mt10" lay-showPercent="yes" lay-filter="'+u+'">\n                            <div class="layui-progress-bar layui-bg-blue" lay-percent="0%"><span class="layui-progress-text">0%</span></div>\n                        </div>\n                    </div>');r.append(c);var d=yunu.progress(c);if(!s[0].attr("data-path"))return a.alert("未定义上传路径"),!0;var f=e.extend({runtimes:"html5,flash,html4",browse_button:s[0],Bucket_Name:"static-yunucms",uptoken_url:global_app+"/uptoken.php",unique_names:!1,domain:"http://static.yunucms.com/",get_new_uptoken:!1,container:r[0],max_file_size:"1024mb",flash_swf_url:"Moxie.swf",max_retries:3,dragdrop:!0,drop_element:r[0],chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){plupload.each(t,function(e){d("show")})},BeforeUpload:function(e,t){},UploadProgress:function(e,t){t.percent<100&&o.progress(u,t.percent+"%")},FileUploaded:function(t,n,a){o.progress(u,"100%");var i=t.getOption("domain")+e.parseJSON(a.response).key+"?attname=";l.val(i),d("success")},Error:function(e,t,n,o){console.log(e),console.log(t),console.log(n),"undefined"!=typeof swal?swal(t.message,n,"error"):a&&a.open({title:t.message,content:n}),d("error")},UploadComplete:function(){},Key:function(t,n){var a=t.settings.browse_button,o=e(a).attr("data-path");return(o=o||"")+n.id}}},n);r.one("mouseenter",function(){return Qiniu.uploader(f)})})})},table:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e("#search");t=e.extend({colReorder:!0,select:!0,stateSave:!0,processing:!0,autoWidth:!1,lengthMenu:[[10,50,100,-1],[10,50,100,"全部"]],order:!1,aoColumnDefs:[{bSortable:!1,aTargets:-1}],sPaginationType:"ellipses",searchDelay:500,language:{sProcessing:"处理中...",sLengthMenu:"显示 _MENU_ 项结果",sZeroRecords:"没有匹配结果",sInfo:"显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",sInfoEmpty:"显示第 0 至 0 项结果，共 0 项",sInfoFiltered:"(由 _MAX_ 项结果过滤)",sInfoPostFix:"",sSearch:"搜索:",sUrl:"",sEmptyTable:"表中数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上一页",sNext:"下一页",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}},stateSaveParams:function(e,t){t.search.search=""},stateSaveCallback:function(e,t){localStorage.setItem("DataTables_"+e.sInstance+"_"+location.pathname.replace(/(\/keyword.*)|\.html/,""),JSON.stringify(t))},stateLoadCallback:function(e){var t=JSON.parse(localStorage.getItem("DataTables_"+e.sInstance+"_"+location.pathname.replace(/(\/keyword.*)|\.html/,"")));return t&&""==a.val()&&a.val(t.search.search),t}},t);var o=n.table?n.table.DataTable(t):e("#table table").DataTable(t),i=null;n.search&&(e(".dataTables_filter").remove(),""!=a.val()&&o.search(a.val()).draw(),a.on("input",function(){var e=this;clearTimeout(i),i=setTimeout(function(){o.search(e.value).draw()},500)}));var l=e("#stime"),r=e("#etime");return l&&l.html('<label>开始时间:<input type="text"></label>'),r&&r.html('<label>结束时间:<input type="text"></label>'),!0===n||Object.keys(n).length>0?o:this},service_buy:function(n,a){layer.open({type:0,title:"购买服务",content:"<p>服务名称："+n.s_name+'</p><p>订单金额：<span class="money">'+n.s_money+"</span>元</p>",btn:["取消","确认支付"],skin:"service_buy",area:"400px",btnAlign:"c",btn2:function(o,i){swal({title:"请稍后",text:"这可能需要一点时间",imageUrl:global_app+"/Public/Public/img/loading.gif",showConfirmButton:!1}),e.post(a+"/Pay/pay",{oid:n.id},function(e){1==e.state?swal({title:"成功",type:"success",confirmButtonText:"确定",showLoaderOnConfirm:!0},function(){t.location.href=a+"/Orders/index"}):2==e.state?yunu.swal({text:"抱歉，购买失败，需要"+e.money+"元。您的可用金额不足是否立即充值",confirmButtonText:"立即充值"},function(){t.location.href=a+"/Finance/recharge"}):-1==e.state?swal({title:"失败",text:e.mess,type:"error"},function(){t.location.href=a+"/Orders/index"}):swal("失败",e.mess,"error")}).error(function(){swal("错误","发生错误","error")})}})},scroll_pic:function(){e(".scroll_pic").on("mouseenter","img",function(){var t=e(this),n=t.height()-t.closest(".scroll_pic").height();t.stop(!0).animate({top:-n},10*n,"linear")}).on("mouseleave","img",function(){e(this).stop(!0).animate({top:0},"fast")})},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=e.extend({type:0,title:"提示",content:"",btn:["取消","确认"],skin:"open_buy",area:"400px",btnAlign:"c",btn2:function(e,t){}},t),layer.open(t)},buy:function(n){return layui.use("layer",function(){var a=layui.layer;if(void 0!=n.uid&&!n.uid)return n.referer&&e.get("/Yunuapi/referer",{type:n.referer}),yunu.swal({text:"请登录",confirmButtonText:"登录"},function(){swal.close(),yunu.login()}),!1;var o=n.param.num>0?parseInt(n.param.num):1,i=n.content?n.content:"尊敬的用户，您正在购买"+n.name+(n.money?'价格是 <span class="c_red iblock">'+n.money*o+"</span>元":"")+"，您确定购买吗？";yunu.open({content:i,btn2:function(o,i){var o=a.load(0,{skin:"msg_loading",shade:[.1,"#000"]});e.post("/User/Pay/buy",_extends({},n.param),function(e){if(1==e.state)yunu.open({content:"恭喜您，成功购买"+n.name+"！",btn2:function(e,a){localStorage&&localStorage.setItem("l_navuser",2),0==n.param.id?t.location.href="/User/Business/myempower":n.param.id>0?t.location.href="/User/Business/website/yd/1":n.param.site_oid>0?t.location.href="/User/SiteOptimize/manage":n.param.ai_site_oid>0?t.location.href="/User/AiSiteOptimize/manage":n.param.fegid>0?t.location.href="/User/Feg/manage":n.param.pid>0?t.location.href="/User/Yunupush/manage":n.param.fid>0?t.location.href="/User/FastRank/manage":1==n.param.client_state||1==n.param.vas_state?t.location.href="/User/Business/myempower":n.param.oid>0?t.location.href="/User/Outsource/manage":n.param.llb_id>0?t.location.href="/User/Llb/manage":n.param.plug_id>0?t.location.href="/User/Plug/manage":t.location.href="/User/Orders/index"}});else if(2==e.state)yunu.open({content:"抱歉，购买失败，您的可用金额不足是否立即充值？",btn:["取消","立即充值"],btn2:function(e,n){t.location.href="/User/Finance/recharge"}});else if(9==e.state){var a={content:e.mess};e.btn&&(a.btn=e.btn),e.jump&&(a.btn2=function(n,a){t.location.href=e.jump}),yunu.open(a)}else if(-1==e.state)swal({title:"失败",text:e.mess,type:"error"},function(){t.location.href="/User/Orders/index"});else{if(401==e.state)return void yunu.swal({text:"请登录",confirmButtonText:"登录"},function(){swal.close(),yunu.login()});swal("失败",e.mess,"error")}}).error(function(){swal("错误","发生错误","error")}).complete(function(){a.close(o)})}})}),this},record_see:function(t,n){layui.use(["layer","form"],function(){var a=layui.layer;layui.form;a.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),e.post("/jsapi/record_see",{id:t,type:n},function(e){a.open({type:1,area:["1000px","550px"],content:'<div class="form_yunupush">\n                                    <form class="form layui-form pt15 pb15">\n                                        <ul>\n                                            <li>\n                                                <span>A 城市</span>\n                                                <textarea rows="15" name="field_a" lay-verify="required" readonly>'+e.field_a+'</textarea>\n                                            </li>\n                                            <li>\n                                                <span>B 前缀</span>\n                                                <textarea rows="15" name="field_b" lay-verify="required" readonly>'+e.field_b+'</textarea>\n                                            </li>\n                                            <li>\n                                                <span>C 主词</span>\n                                                <textarea rows="15" name="field_c" lay-verify="required" readonly>'+e.field_c+'</textarea>\n                                            </li>\n                                            <li>\n                                                <span>D 长尾词</span>\n                                                <textarea rows="15" name="field_d" lay-verify="required" readonly>'+e.field_d+"</textarea>\n                                            </li>\n                                        </ul>\n                                    </form>\n                                </div>"})}).always(function(){a.closeAll("loading")})})},now:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),o=e.getHours(),i=e.getMinutes(),l=e.getSeconds(),r=function(e){return e<10?"0"+e:e},s=t+"-"+r(n)+"-"+r(a)+" "+o+":"+i+":"+l;return s},record_popup:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};layui.use(["layer","form"],function(){var a=layui.layer,o=layui.form;a.load(),e.post(module_name+"/AiSiteOptimize/ai_info",{aid:t},function(i){a.open({title:"跟进记录",skin:"record_popup",type:1,area:["1000px","60%"],content:'<div class="record_content">\n                            '+i.map(function(e,t){return'\n                                <div class="record_item">\n                                    <div>'+e.name+' [ <span class="'+("管理员"==e.level?"c_red":"color")+'">'+e.level+"</span> ] | "+e.time+"</div>\n                                    <p>"+e.content+"</p>\n                                </div>\n                            "}).join("")+'\n                        </div>\n                        <form class="layui-form">\n                            <div class="layui-form-item layui-form-text">\n                                <label class="layui-form-label f14 pr5">反馈内容</label>\n                                <div class="layui-input-block mr50">\n                                    <textarea name="content" class="layui-textarea" required lay-verify="required"></textarea>\n                                </div>\n                            </div>\n                            <div class="layui-form-item">\n                                <div class="layui-input-block">\n                                    <button class="layui-btn btn1" lay-submit="" lay-filter="ai_info">提交</button>\n                                </div>\n                            </div>\n                        </form>',cancel:function(){n()}});var l=e(".record_content");o.on("submit(ai_info)",function(n){a.load();var o=n.field.content;return e.post(module_name+"/AiSiteOptimize/push_record",{aid:t,content:o},function(t){1==t.state?(l.prepend('<div class="record_item">\n                                    <div>'+t.name+' [ <span class="'+("管理员"==t.level?"c_red":"color")+'">'+t.level+"</span> ] | "+yunu.now()+"</div>\n                                    <p>"+o+"</p>\n                                </div>"),e('textarea[name="content"]').val("")):yunu.msg_t(t.info,"error")}).always(function(){a.closeAll("loading")}),!1})}).always(function(){a.closeAll("loading")})})},layui_table:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};layui.use(["layer","form","table"],function(){layui.layer;var a=layui.form,o=layui.table;if(t=e.extend({elem:"#table",url:t.url,method:"POST",page:!0,even:!0,cellMinWidth:80,autoSort:!1,done:function(t,n,a){e.each(t.data,function(t,n){e('[data-index="'+n.LAY_TABLE_INDEX+'"]').attr("data-id",n.id)})}},t),n=e.extend({table:"table",table_del_btn:"#del"},n),o.render(t),!1===t.autoSort&&o.on("sort("+n.table+")",function(e){o.reload(n.table,{initSort:e,where:{order:e.field+" "+e.type}})}),n.search){var i=function(e){var t={search:e};if(n.hasOwnProperty("other_search")){var a=n.other_search();t=Object.assign(t,a)}o.reload(n.table,{page:{curr:1},where:t})};e("#search_btn").on("click",function(){i(e("#search").val())}),e("#search").length&&""!=e("#search").val()&&i(e("#search").val())}n.switch&&e.each(n.switch,function(t,o){a.on("switch("+o+")",function(t){e.post(n.qsave,_defineProperty({id:e(t.elem).closest("tr").attr("data-id")},o,t.elem.checked?1:0))})}),n.edit&&o.on("edit("+n.table+")",function(t){e.post(n.qsave,_defineProperty({id:t.data.id},t.field,t.value))}),n.event&&o.on("tool("+n.table+")",function(e){var t=e.data,a=e.event;n.event.hasOwnProperty(a)&&n.event[a](t,e)}),n.table_del&&e(n.table_del_btn).click(function(){var e=o.checkStatus(n.table);if(e.data.length){var t=e.data.map(function(e){return e.id}).join(",");n.table_del(t,e.data)}else yunu.msg_t("请选中","error")})})},layui_table_redraw:function(t,n){layui.use(["layer"],function(){var a=layui.layer,o=e("#layui-layer"+n),i=o.height(),l=o.offset().top,r=e("#"+t).next(),s=r.closest(".layui-layer").find(".layui-layer-title"),u=r.find(".layui-table-body"),c=r.outerHeight(!0)+s.outerHeight(),d=(i-c)/2+l;a.style(n,{height:c,top:d}),u.css({overflow:"visible"}),setTimeout(function(){u.css({overflow:"auto"})})})},multi_upload:function(){layui.use(["layer","upload"],function(){function t(n,a,o){var i=n.find("li"),l="#"+a;i.removeAttr("style"),e(l).html(i),i.Tdrag({scope:l,pos:!0,dragChange:!0,changeMode:"sort",cbEnd:function(){i.each(function(t,n){var a=e(n);a.find('input[name="'+o+'_index[]"]').val(a.attr("index"))})}}),n.find("input").on("mousedown",function(e){e.stopPropagation()}),n.find(".layui-layer-close").on("click",function(i){e(this).closest("li").remove(),t(n,a,o)})}var n=layui.layer;e(".multi_upload_img").each(function(a,o){var i=e(this),l=i.find(".upload_btn"),r=i.find("ul"),s="multi_upload_container"+a,u="multi_upload_btn"+a,c="multi_upload_img_box"+a,d=r.attr("name");if(i.attr("id",s),l.attr("id",u),r.attr("id",c),!l.attr("data-path"))return n.alert("未定义上传路径"),!0;Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:u,Bucket_Name:"static-yunucms",uptoken_url:global_app+"/uptoken.php",unique_names:!1,domain:"http://static.yunucms.com/",get_new_uptoken:!1,container:s,max_file_size:"1024mb",flash_swf_url:"js/plupload/Moxie.swf",max_retries:3,dragdrop:!0,drop_element:s,chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){n.load()},FileUploaded:function(t,n,a){var o=t.getOption("domain")+e.parseJSON(a.response).key+"?attname=",i=r.find("li").length>0?r.find("li").last().attr("index"):-1;r.append('<li>\n                                    <div class="img_box" style="background-image: url('+o+');"></div>\n                                    <input type="hidden" name="'+d+'_url[]" value="'+o+'">\n                                    <input type="hidden" name="'+d+'_index[]" value="'+(i+1)+'">\n                                    <input type="input" name="'+d+'_name[]" value="" placeholder="请输入">\n                                </li>')},Error:function(e,t,a,o){console.log(e),console.log(t),console.log(a),n.closeAll("loading")},UploadComplete:function(){n.closeAll("loading"),t(i,c,d)},Key:function(t,n){var a=t.settings.browse_button,o=e(a).attr("data-path");return(o=o||"")+n.id}}}),t(i,c,d)})})}},e.fn.imgAuto=function(t,n){n=n||{};var a=function(e,t){"function"==typeof n[e]&&n[e](t)};return e(this).each(function(){var n=e(this),o=new Image,i=!("cover"!=n.attr("img-Auto")&&!t),l=n.attr("width"),r=n.attr("height"),s=n.attr("box-Scale"),u=void 0;n.css({display:"block",opacity:0}),o.src=n.attr("src"),!n.parent().hasClass("imgAuto_box")&&(n.attr("no-Box")||l&&r)&&((u=e('<div class="imgAuto_box"></div>')).css({width:l,height:r}),n.wrapAll(u)),(u=n.parent()).css("overflow","hidden"),s&&u.each(function(){var t=e(this);yunu.throttle(function(){t.height(t.width()/s)})});yunu.throttle(function e(){if(o.width>0||o.height>0){a("imgAutoStart",o);var t=o.width,l=o.height,r=u.width(),s=u.height();t/l<r/s===i?n.css({width:"100%",height:"auto",margin:-(r/(t/l)-s)/2+"px 0 0 0"}):n.css({width:"auto",height:"100%",margin:"0 0 0 "+-(s*(t/l)-r)/2+"px"}),a("callback",o)}else setTimeout(e)}),n.fadeTo("fast",1)}),this}}(jQuery,window,document);
"use strict";!function(n,t,e,a){n.extend(t.yunu,{download:function(e){var a=function(a){e.uid?yunu.swal(n.extend({text:"每个注册用户每天至多下载3个源文件，是否确定下载"},e.swal),function(){if(e.swal&&!1===e.swal.showCancelButton)return swal.close(),!1;n.ajax({url:e.url,type:"POST",data:{id:a}}).done(function(n){0==n.state&&swal("错误",n.mess,"error"),403==n.state&&yunu.swal({text:n.mess,confirmButtonText:"登录"},function(){swal.close(),yunu.login()}),1==n.state&&(swal.close(),t.location.href=e.url+"?id="+a+"&download_key="+n.download_key,e.reload&&t.location.reload())}).fail(function(n){swal("错误",n.status+" "+n.statusText,"error")})}):yunu.swal({text:"请登录",confirmButtonText:"登录"},function(){swal.close(),n.ajax({url:e.url,type:"POST",data:{id:a},not_login:!0}),yunu.login()})};n(e.btn).on("click",function(t){t.stopPropagation();var e=n(this).closest("li").attr("data-id");a(e)}),e.id&&e.uid&&a(e.id)},validate_class:function(){var n=!0;return{init:function(){return n=!0},result:function(){return n},validate:function(t,e,a){var l=t.closest(".form_items"),i=function(){l.removeClass("empty error"),e()&&(""==t.val()?l.addClass("empty"):l.addClass("error"))};return i(),t.off("input").on("input",i),!e()||(n=!1)}}}(),validation:function(t){yunu.validate_class.init();var e=yunu.validate_class.validate;n.each(t,function(n,t){t(e)});var a=yunu.validate_class.result();return a||n(".empty, .error").first().find("input").focus(),a},submit:function(t,e,a,l,i,s){e.on("submit",function(){return a.prop("disabled",!0).addClass("disabled"),setTimeout(function(){a.prop("disabled",!1).removeClass("disabled")},3e3),yunu.validation(l)&&(i.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),n.post(t,e.serialize(),function(n){1==n.state?s(n):i.msg(n.mess,{skin:"layui-layer-hui msg_error",offset:"t",anim:5,time:3e3})}).complete(function(){i.closeAll("loading")})),!1})},yzm:function(t,e,a,l){var i=t.find("#yzm a"),s=0,o=null,c=null,r=function(){clearInterval(o),s=60,i.html(s+"秒后重试").addClass("disabled"),o=setInterval(function(){s--,i.html(s+"秒后重试"),s<=0&&(clearInterval(o),i.html("发送验证码").removeClass("disabled"))},1e3)},u=function(t){r(),n.post(global_app+"/Sms/index.html",{tel:c,geetest_challenge:t.geetest_challenge,geetest_validate:t.geetest_validate,geetest_seccode:t.geetest_seccode},function(n){0!=n.code&&(s=0,alert(n.msg+(n.detail?" : "+n.detail:"")),e.focus())})},p=function(t){t.onReady(function(){}).onSuccess(function(){var i=t.getValidate();if(!i)return alert("请完成验证");l?u(i):(a.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),n.post(global_app+"/Login/validate_tel.html",{tel:c},function(n){1==n.state?u(i):(a.msg(n.mess,{skin:"layui-layer-hui msg_error",offset:"t",anim:5,time:3e3}),e.focus(),t.reset())}).complete(function(){a.closeAll("loading")}))}),i.on("click",function(){c=e.val(),s>0||yunu.validate_class.validate(e,function(){return!c.match(/^1\d{10}$/)})&&(t.verify(),l?u():(a.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),n.post(global_app+"/Login/validate_tel.html",{tel:c},function(n){1==n.state?u():(a.msg(n.mess,{skin:"layui-layer-hui msg_error",offset:"t",anim:5,time:3e3}),e.focus(),t.reset())}).complete(function(){a.closeAll("loading")})))})};n.ajax({url:global_app+"/Sms/getVerify/t/"+(new Date).getTime(),type:"get",dataType:"json",success:function(n){initGeetest({gt:n.gt,challenge:n.challenge,new_captcha:n.new_captcha,product:"bind",offline:!n.success},p)}})},register:function(e){layui.use("layer",function(){layer=layui.layer,layer.closeAll("page");var a=localStorage.getItem("hmsr"),l="";if(a){a=JSON.parse(a);for(var i in a)l+='<input type="hidden" name="'+i+'" value="'+a[i]+'" />'}layer.open({type:1,skin:"login_layer",title:!1,area:["415px","593px"],content:'<div class="login_popup">\n                        <div class="login_popup_tit">免费注册</div>\n                        <form id="form_register" method="POST" action="'+global_app+'/Login/register.html">\n                            '+l+'\n                            <div class="form_items">\n                                <input type="text" name="username" value="" placeholder="请输入您的用户名">\n                                <font class="font_empty">请输入用户名</font>\n                                <font class="font_error">用户已注册</font>\n                            </div>\n                            <div class="form_items">\n                                <input id="password" type="password" name="password" value="" placeholder="请输入您的密码">\n                                <font class="font_empty">请输入符合规范的密码，由字母+数字+符号组成</font>\n                                <font class="font_error">由字母、数字组成，区分大小写（6~16位）</font>\n                            </div>\n                            <div class="form_items">\n                                <input id="password2" type="password" name="password2" value="" placeholder="请再次输入您的密码">\n                                <font class="font_empty">再次输入密码</font>\n                                <font class="font_error">两次密码输入不一致。</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="number" name="qq" value="" placeholder="请输入您的QQ号码">\n                                <font class="font_empty">请输入QQ号码</font>\n                            </div>\n                            <div class="form_items">\n                                <input id="tel" type="tel" name="tel" value="" placeholder="请输入您的手机号码">\n                                <font class="font_empty">请输入手机号码</font>\n                                <font class="font_error">请输入正确手机号码</font>\n                            </div>\n                            <div class="form_items yzm" id="yzm">\n                                <input type="text" name="smscode" value="" placeholder="请输入您的验证码">\n                                <a href="javascript:;">获取验证码</a>\n                                <font class="font_empty">请输入验证码</font>\n                                <font class="font_error">验证不正确</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="submit" value="注  册">\n                            </div>\n                            <div class="form_items_b clearfix">\n                                <div class="fl">阅读并接受<a class="color" href="http://www.yunucms.com/article/show/id/15.html">《服务协议》</a></div>\n                                <div class="fr"><a class="color" href="javascript:yunu.login();">返回登录 >></a></div>\n                            </div>\n                        </form>\n                    </div>',success:function(a,l){var i=n("#form_register"),s=i.find('input[type!="submit"]').not("#password, #password2, #tel"),o=i.find("#password"),c=i.find("#password2"),r=i.find("#tel"),u=i.find('input[type="submit"]');yunu.yzm(i,r,layer),yunu.submit(global_app+"/Login/register.html",i,u,[function(t){return s.each(function(e,a){var l=n(a);t(l,function(){return""==l.val()})})},function(n){return n(o,function(){return null==o.val().match(/^[\w\!\@\#]{6,13}$/)})},function(n){return n(c,function(){return o.val()!=c.val()||""==c.val()})},function(n){return n(r,function(){return!r.val().match(/^1\d{10}$/)})}],layer,function(n){yunu.msg_t("注册成功",function(){"function"==typeof e?e(n):n.DOWNLOAD_REFERER?t.location.replace(n.DOWNLOAD_REFERER):t.location.replace(global_app+"/")})})}})})},login:function(e){layui.use("layer",function(){layer=layui.layer,layer.closeAll("page"),layer.open({type:1,skin:"login_layer",title:!1,area:["415px","384px"],content:'<div class="login_popup">\n                        <div class="login_popup_tit">账号密码登录</div>\n                        <form id="form_login" method="POST" action="'+global_app+'/Login/login.html">\n                            <div class="clearfix mb15">\n                                <div class="fr"><a class="color" href="javascript:yunu.login_tel();">短信验证码登录 >></a></div>\n                            </div>\n                            <div class="form_items">\n                                <input type="text" name="username" value="" placeholder="请输入您的用户名或手机号">\n                                <font class="font_empty">请输入用户名或手机号</font>\n                                <font class="font_error">用户不存在</font>\n                            </div>\n                            <div class="form_items">\n                                <input id="password" type="password" name="password" value="" placeholder="请输入您的密码">\n                                <font class="font_empty">请输入密码</font>\n                                <font class="font_error">密码错误</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="submit" value="登  录">\n                            </div>\n                            <div class="form_items_b">\n                                点击 “登录” 即表示同意<a class="color" href="http://www.yunucms.com/article/show/id/15.html">《服务协议》</a>\n                            </div>\n                            <div class="clearfix mt15">\n                                <div class="fr"><a class="color" href="javascript:yunu.register();">免费注册 >></a></div>\n                            </div>\n                        </form>\n                    </div>',success:function(a,l){var i=n("#form_login"),s=i.find('input[type!="submit"]'),o=i.find('input[type="submit"]');yunu.submit(global_app+"/Login/login.html",i,o,[function(t){return s.each(function(e,a){var l=n(a);t(l,function(){return""==l.val()})})}],layer,function(n){yunu.msg_t("登录成功",function(){"function"==typeof e?e(n):n.DOWNLOAD_REFERER?t.location.replace(n.DOWNLOAD_REFERER):t.location.replace(global_app+"/User/Index/index.html")})})}})})},login_tel:function(e){layui.use("layer",function(){layer=layui.layer,layer.closeAll("page"),layer.open({type:1,skin:"login_layer",title:!1,area:["415px","384px"],content:'<div class="login_popup">\n                        <div class="login_popup_tit">短信验证码登录</div>\n                        <form id="form_login_tel" method="POST" action="'+global_app+'/Login/login_tel.html">\n                            <div class="clearfix mb15">\n                                <div class="fr"><a class="color" href="javascript:yunu.login();">账号登录 >></a></div>\n                            </div>\n                            <div class="form_items">\n                                <input id="tel" type="tel" name="tel" value="" placeholder="请输入您手机号码">\n                                <font class="font_empty">请输入手机号码</font>\n                                <font class="font_error">手机号码不存在</font>\n                            </div>\n                            <div class="form_items yzm" id="yzm">\n                                <input type="text" name="smscode" value="" placeholder="请输入您的验证码">\n                                <a href="javascript:;">获取验证码</a>\n                                <font class="font_empty">请输入验证码</font>\n                                <font class="font_error">验证不正确</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="submit" value="登  录">\n                            </div>\n                            <div class="form_items_b">\n                                点击 “登录” 即表示同意<a class="color" href="http://www.yunucms.com/article/show/id/15.html">《服务协议》</a>\n                            </div>\n                            <div class="clearfix mt15">\n                                <div class="fr"><a class="color" href="javascript:yunu.register();">免费注册 >></a></div>\n                            </div>\n                        </form>\n                    </div>',success:function(a,l){var i=n("#form_login_tel"),s=i.find('input[type!="submit"]'),o=i.find("#tel"),c=i.find('input[type="submit"]');yunu.yzm(i,o,layer,!0),yunu.submit(global_app+"/Login/login_tel.html",i,c,[function(t){return s.each(function(e,a){var l=n(a);t(l,function(){return""==l.val()})})},function(n){return n(o,function(){return!o.val().match(/^1\d{10}$/)})}],layer,function(n){yunu.msg_t("登录成功",function(){"function"==typeof e?e():n.DOWNLOAD_REFERER?t.location.replace(n.DOWNLOAD_REFERER):t.location.replace(global_app+"/User/Index/index.html")})})}})})},message:function(t){layui.use("layer",function(){layer=layui.layer,layer.closeAll("page"),layer.open({type:1,skin:"message_layer",title:!1,area:["489px","711px"],shadeClose:!0,content:'<div class="message_popup">\n                        <div class="message_popup_tit">\n                            <h5>申请代理商</h5>\n                            <p>尊敬的用户，您如实填写完表单后，云优CMS会主动与您联系并将<span class="color">招商PPT</span>发送至您的邮箱！</p>\n                        </div>\n                        <form id="form_message" method="POST" action="/Guestbook/index.html">\n                            <div class="form_items">\n                                <input type="text" name="cname" placeholder="请输入您的公司全称">\n                                <font class="font_empty">请输入公司全称</font>\n                                <font class="font_error">填写错误，请填写公司全称，字数在8~20个字之间，且必须中文</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="name" name="name" placeholder="请输入您的联系人姓名">\n                                <font class="font_empty">请输入联系人姓名</font>\n                                <font class="font_error">填写错误，姓名字数在2~4个字之间，且必须中文</font>\n                            </div>\n                            <div class="form_items yzm" id="yzm">\n                                <input type="tel" name="tel" placeholder="请输入您的手机号码">\n                                <a href="javascript:;">获取验证码</a>\n                                <font class="font_empty">请输入手机号码</font>\n                                <font class="font_error">请输入正确的手机号码</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="text" name="smscode" placeholder="请输入您的验证码">\n                                <font class="font_empty">请输入验证码</font>\n                                <font class="font_error">验证不正确</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="email" name="email" placeholder="请输入您的邮箱">\n                                <font class="font_empty">请输入邮箱</font>\n                                <font class="font_error">请输入正确的邮箱</font>\n                            </div>\n                            <div class="form_items">\n                                <input type="submit" value="提交资料">\n                            </div>\n                        </form>\n                    </div>',success:function(t,e){var a=n("#form_message"),l=a.find('input[type!="submit"]'),i=a.find('input[name="cname"]'),s=a.find('input[name="name"]'),o=a.find('input[name="tel"]'),c=a.find('input[name="email"]'),r=a.find('input[type="submit"]');yunu.yzm(a,o,layer,!0),yunu.submit(global_app+"/Guestbook/index",a,r,[function(t){return l.each(function(e,a){var l=n(a);t(l,function(){return""==l.val()})})},function(n){return n(i,function(){return!i.val().match(/^[\u4E00-\u9FA5]{8,20}$/)})},function(n){return n(s,function(){return!s.val().match(/^[\u4E00-\u9FA5]{2,4}$/)})},function(n){return n(o,function(){return!o.val().match(/^1\d{10}$/)})},function(n){return n(c,function(){return!c.val().match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)})}],layer,function(n){layer.closeAll("page"),layer.open({type:1,title:!1,skin:"message_success_layer",area:["457px","343px"],time:2e3,content:'<img src="'+global_app+'/Public/Index/img/message_success.png"><h2>提交成功</h2><p>已收到您提交的信息，我们将尽快与您取得联系，谢谢！</p>'})})}})})},template_buy:function(e){return layui.use(["element","layer","form"],function(){var a=layui.element,l=layui.layer,i=layui.form;l.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),n.ajax({url:"/Jsapi/get_template_info",type:"POST",data:{id:e}}).done(function(e){1==e.state?l.open({type:1,title:"网站开通流程",content:'\n                                <div class="template_buy_content layui-form" id="template_buy">\n                                    <input type="hidden" name="id" value="'+e.data.id+'" />\n                                    <input type="hidden" name="space" value="0" />\n                                    <div class="layui-collapse" lay-accordion="">\n                                        <div class="layui-colla-item">\n                                            <h2 class="layui-colla-title">模板</h2>\n                                            <div class="layui-colla-content layui-show">\n                                                <div class="template_buy_t">\n                                                    <div class="template_pic">\n                                                        <img src="'+e.data.pc_img+'" alt="">\n                                                    </div>\n                                                    <div class="template_info">\n                                                        <h2>'+e.data.title+'</h2>\n                                                        <div class="money">\n                                                            '+(e.data.hasOwnProperty("omoney")?'\n                                                                <img class="vat mr5" src="/Public/Public/img/s11_2019/8.png" alt="">\n                                                                <span class="f16" style="color: #f60;">¥</span>\n                                                                <span class="f26" style="color: #f60;">'+e.data.money+'</span>\n                                                                <span class="f12 vat ml10" style="color: #939393;">原价</span>\n                                                                <span class="f12 vat" style="color: #939393;text-decoration: line-through;">¥</span>\n                                                                <span class="f16 vat" style="color: #939393;text-decoration: line-through;"> '+e.data.omoney+"</span>\n                                                                ":'<span class="f20 vam mr10">¥ '+e.data.money+' 元</span>\n                                                                <img class="vam" src="/Public/Index/img/gift.png" alt="">\n                                                                <span class="vab">买模板送授权</span>')+"\n                                                        </div>\n                                                        <ul>\n                                                            <li>产品编号： "+e.data.number+"</li>\n                                                            <li>主题版本： v"+e.data.version+'</li>\n                                                        </ul>\n                                                    </div>\n                                                </div>\n                                                <p>模板所有信息均可在后台或模板文件中进行修改，如具备专业 web 前端技术，还可以对整体布局进行修改。</p>\n                                            </div>\n                                        </div>\n                                        <div class="layui-colla-item">\n                                            <h2 class="layui-colla-title">空间</h2>\n                                            <div class="layui-colla-content">\n                                                <div class="layui-tab" lay-filter="space">\n                                                    <ul class="layui-tab-title">\n                                                        <li>选购空间</li>\n                                                        <li class="layui-this">已有空间</li>\n                                                    </ul>\n                                                    <div class="layui-tab-content">\n                                                        <div class="layui-tab-item lh24">\n                                                            <p class="tc_red">所有主机均不可以发布非法及管控消息，违者一律永久关停处理且不退款；</p>\n                                                            <p><span class="tc_green">国内主机需要备案才能绑定正式域名，</span>如你的域名已在阿里云备案，建议你选择对应提供商的主机。购买阿里云备案主机后，会提供一个阿里云备案码。</p>\n                                                            <ul class="template_buy_space">\n                                                                <li>\n                                                                    <span class="mr10">价格</span>\n                                                                    <span class="f24 tc_red"><i class="template_buy_space_money">299</i>元/1年</span>\n                                                                </li>\n                                                                <li>\n                                                                    <span class="mr10">类型</span>\n                                                                    <span style="width: 158px;display: inline-block;">\n                                                                        <select name="type" lay-verify="required">\n                                                                            <option value="0">阿里云国内主机</option>\n                                                                            <option value="1">阿里云香港主机</option>\n                                                                        </select>\n                                                                    </span>\n                                                                    <span class="mr10 ml10">容量</span>\n                                                                    <span style="width: 76px;display: inline-block;">\n                                                                        <select name="capacity" lay-verify="required" lay-filter="capacity">\n                                                                            <option value="2">2G</option>\n                                                                            <option value="5">5G</option>\n                                                                        </select>\n                                                                    </span>\n                                                                    <span class="mr10 ml10">购买时长</span>\n                                                                    <span style="width: 76px;display: inline-block;">\n                                                                        <select name="year" lay-verify="required" lay-filter="year">\n                                                                            <option value="1">1年</option>\n                                                                            <option value="2">2年</option>\n                                                                            <option value="3">3年</option>\n                                                                            <option value="5">5年</option>\n                                                                        </select>\n                                                                    </span>\n                                                                </li>\n                                                            </ul>\n                                                        </div>\n                                                        <div class="layui-tab-item lh24 layui-show">\n                                                            <p class="f16 pt10 pb10">云优CMS 运行环境要求</p>\n                                                            <p>操作系统：Linux / Unix / Windows</p>\n                                                            <p>软件环境：Apache / Nginx / IIS + PHP 5.3 ~ 7.0 + MySQL 5.0 及以上</p>\n                                                            <p class="c_red">友情提示：非官方空间请确保满足以上安装环境，并配置好服务器相关权限及函数参数，官方售后不包含免费环境配置服务！</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="template_buy_content_b">\n                                        <div>总计：<span class="template_buy_total">'+e.data.money+'</span> 元</div>\n                                        <div><button class="settlement" lay-submit lay-filter="template_buy">去结算</button></div>\n                                    </div>\n                                </div>\n                            ',skin:"template_buy",area:"600px",success:function(s,o){a.init(),i.render("select");var c={2:299,5:399},r=2,u=1,p=function(){var t=c[r];n("#template_buy .template_buy_space_money").html(t),n("#template_buy .template_buy_total").html((t*u+parseFloat(e.data.money)).toFixed(2))};a.on("tab(space)",function(t){0==t.index?(n('#template_buy input[name="space"]').val(1),p()):(n('#template_buy input[name="space"]').val(0),n("#template_buy .template_buy_total").html(e.data.money))}),i.on("select(capacity)",function(n){r=n.value,p()}),i.on("select(year)",function(n){u=n.value,p()}),i.on("submit(template_buy)",function(e){return l.load(0,{skin:"msg_loading",shade:[.1,"#000"]}),n.post("/User/Pay/template_buy",e.field,function(n){1==n.state?(l.closeAll(),yunu.open({content:"恭喜您，成功购买云优模板",btn2:function(n,e){t.location.href="/User/Business/website/yd/1"}})):2==n.state?yunu.open({content:"抱歉，购买失败，您的可用金额不足是否立即充值？",btn:["取消","立即充值"],btn2:function(n,e){t.location.href="/User/Finance/recharge"}}):401==n.state?yunu.swal({text:"请登录",confirmButtonText:"登录"},function(){swal.close(),yunu.login()}):swal("失败",n.mess,"error")}).always(function(){l.closeAll("loading")}),!1})}}):l.msg("获取失败")}).fail(function(){l.msg("获取失败")}).always(function(){l.closeAll("loading")})}),this},like:function(){n(".like").on("click",function(){var e=n(this),a=e.attr("data-id"),l=!0,i={};if(t.localStorage&&localStorage.getItem("like")&&(i=JSON.parse(localStorage.getItem("like"))),(e.hasClass("move")||i.hasOwnProperty(a))&&(l=!1),l){var s=e.addClass("move").find("span");s.html(parseInt(s.html())+1),n.post("/Article/setLikeInc",{id:a}),t.localStorage&&(i[a]=1,localStorage.setItem("like",JSON.stringify(i)))}else yunu.msg_t("已赞赏",{skin:"layui-layer-hui msg_error",time:3e3,area:["123px","48px"]})})}}),n(function(){n.fn.tooltip&&n('[data-toggle="tooltip"]').tooltip()})}(jQuery,window,document);
//# sourceMappingURL=yunu.js.map
